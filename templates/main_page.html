<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modelit</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">

    <link rel="icon" type="image/png" sizes="32x32" href="static\pictures\mfavicon.ico?v=1">
    <link rel="icon" type="image/png" sizes="16x16" href="static\pictures\mfavicon.ico?v=1">
    <link rel="icon" type="image/x-icon" href="static\pictures\mfavicon.ico?v=1">

</head>
<body>
    <div class="top-header" id="header-title">
        <a href="{{ url_for('about') }}" style="text-decoration: none; color: inherit;">Modelit</a>
    </div>

    <div class="top-menu">
        <div class="lang-select">
            <a href="#" onclick="setLanguage('ru')">RU</a>
            <a href="#" onclick="setLanguage('en')">EN</a>
        </div>
        <a href="#" id="account-link" onclick="openModal()">Account</a>
    </div>

    <div class="search-bar" id="search-bar">
        <input id="search-input" type="text" placeholder="Введите промпт..." />
        <button id="generate-button" type="button"></button>
    </div>

    <div class="idea-container">
        <div class="idea">
            <span id="idea-label">Идея:</span> 
            <span id="idea-text">Красная сфера с радиусом 1</span>
        </div>
        <a href="{{ url_for('prompt_guide') }}" id="prompt-guide" class="prompt-guide">Гайд по промптам</a>
    </div>

    <div id="error-message"></div>

    <div class="result-box" id="result-box">
        <button id="download-button" onclick="downloadModel()"></button>
        <div id="download-link" style="display:none; margin-top:10px;">
            <a href="#" id="download-url" style="color:#6ab4ff;">Скачать 3D модель</a>
        </div>
    </div>

    <div class="footer">&copy; Pyan Inc. 2025</div>
    <div class="version-info">alpha v.1.4.1</div>

    <div class="modal-overlay" id="modal-overlay">
        <div class="modal" id="auth-modal">
            <h2 id="modal-title">Вход</h2>
            <div id="login-form">
                <input type="text" id="login-username" placeholder="Логин" />
                <input type="password" id="login-password" placeholder="Пароль" />
                <div class="options-row">
                    <div class="remember">
                        <input type="checkbox" id="remember-me" />
                        <label for="remember-me" id="remember-label">Запомнить меня</label>
                    </div>
                    <div class="forgot-link">
                        <a href="#" id="forgot-link">Забыли пароль?</a>
                    </div>
                </div>
                <div class="actions">
                    <button id="login-button">Войти</button>
                    <button id="switch-to-register">Зарегистрироваться</button>
                </div>
            </div>
            <div id="register-form" style="display:none;">
                <input type="text" id="register-username" placeholder="Логин" />
                <input type="password" id="register-password" placeholder="Пароль" />
                <input type="password" id="register-password-confirm" placeholder="Повторите пароль" />
                <input type="email" id="register-email" placeholder="Email" />
                <div class="actions">
                    <button id="register-button">Зарегистрироваться</button>
                    <button id="switch-to-login">Назад</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/build/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/PLYLoader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    <script src="{{ url_for('static', filename='scripts.js') }}"></script>
</body>
</html>
