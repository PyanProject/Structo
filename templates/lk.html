<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Личный кабинет - Modelit</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
    <link rel="icon" type="image/png" sizes="32x32" href="static\pictures\mfavicon.ico?v=1">
    <link rel="icon" type="image/png" sizes="16x16" href="static\pictures\mfavicon.ico?v=1">
    <link rel="icon" type="image/x-icon" href="static\pictures\mfavicon.ico?v=1">
</head>
<body>
    <div class="top-header">
        <a href="{{ url_for('index') }}" style="text-decoration: none; color: inherit;">Modelit</a>
    </div>

    <div class="top-menu">
        <div class="lang-select">
            <a href="#" onclick="setLanguage('ru')">RU</a>
            <a href="#" onclick="setLanguage('en')">EN</a>
        </div>
    </div>

    <div class="content">
        <h1>Личный кабинет</h1>
        
        <div class="profile-info">
            <h2>Информация о пользователе</h2>
            <ul>
                <li id="login">
                    <div id="login_text" class="naming">Логин:</div>
                    <div id="login_value" class="value">{{ username }}</div>
                </li>
                <li id="email">
                    <div id="email_text" class="naming">Эл. почта:</div>
                    <div id="email_value" class="value">{{ email }}</div>
                </li>
                <li id="registration_date">
                    <div id="registration_date_text" class="naming">Дата регистрации:</div>
                    <div id="registration_date_value" class="value">{{ registration_date }}</div>
                </li>
            </ul>
        </div>

        <div class="profile-stats">
            <h2>Статистика</h2>
            <ul>
                <li id="models_created">
                    <div id="models_created_text" class="naming">Создано моделей:</div>
                    <div id="models_created_value" class="value">{{ models_created }}</div>
                </li>
                <li id="last_activity">
                    <div id="last_activity_text" class="naming">Последняя активность:</div>
                    <div id="last_activity_value" class="value">{{ last_activity }}</div>
                </li>
            </ul>
        </div>

        <a href="{{ url_for('main_page') }}" class="button">Вернуться на главную</a>
    </div>

    <script>
        const translations = {
            ru: {
                title: "Личный кабинет",
                profileInfo: "Информация о пользователе",
                login: "Логин:",
                registrationDate: "Дата регистрации:",
                stats: "Статистика",
                modelsCreated: "Создано моделей:",
                lastActivity: "Последняя активность:",
                backButton: "Вернуться на главную",
                email: "Эл. почта:"
            },
            en: {
                title: "Profile",
                profileInfo: "User Information",
                login: "Login:",
                registrationDate: "Registration Date:",
                stats: "Statistics",
                modelsCreated: "Models Created:",
                lastActivity: "Last Activity:",
                backButton: "Back to Main",
                email: "Email:"
            }
        };

        function setLanguage(lang) {
            const t = translations[lang];
            document.querySelector('.content h1').textContent = t.title;
            document.querySelector('.profile-info h2').textContent = t.profileInfo;
            document.querySelector('.profile-stats h2').textContent = t.stats;
            document.querySelector('.button').textContent = t.backButton;

            document.getElementById('login_text').textContent = t.login;
            document.getElementById('email_text').textContent = t.email;
            document.getElementById('registration_date_text').textContent = t.registrationDate;
            document.getElementById('models_created_text').textContent = t.modelsCreated;
            document.getElementById('last_activity_text').textContent = t.lastActivity;
            
            fetch('/set_language', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ lang }),
            }).catch(error => console.error('Ошибка при смене языка:', error));
        }
    </script>
</body>
</html>